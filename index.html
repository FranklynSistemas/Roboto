<!DOCTYPE html>
<html lang="en" ng-app="myApp" class="no-js"> <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, user-scalable=no">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Robotin</title>
</head>
<body>
  <script src="js/socket.js"></script>
  <script src="js/angular.js"></script>
  <script src="angular-socket-io/socket.js"></script>
  <script src="js/script.js"></script>
  <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
  
  <link rel="stylesheet" type="text/css" href="css/style.css">

    <h1>{{"Robotin"}}</h1>
  <div ng-controller="ArduController">
   
<br>
<center>
    <div>
        <table  style="width:50%; height:50%">
          <tr>
              <td></td>
              <td><button id='BotoneArriba' ng-mousedown="Adelante()" ng-mouseup="SinMovimiento()" class="btn btn-info" name="boton"></button></td> 
              <td></td>
        </tr>
        <tr>
              <td><button id="BotoneIzquierda" ng-mousedown="Izquierda()" ng-mouseup="SinMovimiento()" class="btn btn-info" name="boton"></button></td>
              <td></td> 
              <td><button id="BotoneDerecha" ng-mousedown="Derecha()" ng-mouseup="SinMovimiento()" class="btn btn-info" name="boton"></button></td>
        </tr>
        <tr>
              <td></td>
              <td><button id="BotoneAbajo" ng-mousedown="Atras()" ng-mouseup="SinMovimiento()" class="btn btn-info" name="boton"></button></td> 
              <td></td>
        </tr>
        </table>
    </div>
</center>


  </div>

<script type="text/javascript">
 var app = angular.module('myApp', ['btford.socket-io']).
    factory('mySocket', function (socketFactory) {
        return socketFactory();
    }).
    controller('ArduController', function ($scope,mySocket) {


        $scope.Adelante = function(){
           console.log('Adelante');
           Vibrar();
           mySocket.emit('motorA1:on');
           mySocket.emit('motorB2:on');
        }

        $scope.Atras = function(){
           console.log('Atras');
           Vibrar();
          
           mySocket.emit('motorA2:on');
           mySocket.emit('motorB1:on');
        }

        $scope.Izquierda = function(){
           console.log('Izquierda');
           Vibrar();
           mySocket.emit('motorA1:on');
           
        }

        $scope.Derecha = function(){
           console.log('Derecha');
           Vibrar();
           mySocket.emit('motorB2:on');
        }

        $scope.SinMovimiento = function(){
           console.log('SinMovimiento');
           Vibrar();
           mySocket.emit('motorA1:off');
           mySocket.emit('motorA2:off');
           mySocket.emit('motorB1:off');
           mySocket.emit('motorB2:off'); 
           mySocket.emit('motorA1:off');
           mySocket.emit('motorB2:off');
        }



});

</script>
</body>
</html>


